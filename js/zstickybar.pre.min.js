/*!
 * zStickyBar 1.0.0 (2014.05)
 * Copyright (c) 2014 Zon Saja - zonsaja@gmail.com - http://inimu.com
 * Official page: http:inimu.com/widget/zstickybar
 * License: CC-BY-SA 3.0 - http://creativecommons.org/licenses/by-sa/3.0/
 * You may use zStickyBar as long as proper credit line in HTML code
 * and this header are left intact, and any modification of the software
 * must be released under the same or compatible license.
 */
/*
 * zStickyBar is a beautifully designed, yet highly configurable
 * fixed position bar widget for website/blog, complete with custom menu,
 * follow box, and page scrolling button.
 */

/*!
 * hoverIntent, by Brian Cherne - http://cherne.net/brian/resources/jquery.hoverIntent.html
 * jQuery outside events, by Ben Alman - http://benalman.com/projects/jquery-outside-events-plugin/
 */

/*
 * Before minification:
 * - var declarations (make them comma separated) --- DONE
 * - ZSBAO (replace: " ZSBAO['" with: " ZSBAO." -- replace: "'] || " with: " || ") --- DONE
 * - OPTION_CSS_TEXT (replace repeated strings w variables -- remove #ZZ) --- DONE
 * - DOC.getElementById (replace w zsb_getId) --- DONE
 */



(function() {
	var UAREGEX = new RegExp('MSIE ([0-9]{1,}[\.0-9]{0,})');
	if ( (navigator.appName.indexOf('Microsoft Internet Explorer') >= 0) && (parseFloat(UAREGEX.exec(navigator.userAgent)) < 9.0) ) {
		zsb$ = jQuery.noConflict();
	} else {
		zsb$ = jQuery.noConflict(true);
		jQuery = jQuery || zsb$;
		$ = $ || zsb$;
	}
})();



(function($){
	$.fn.hoverIntent=function(w,e,b){var j={interval:100,sensitivity:7,timeout:0};if(typeof w==='object'){j=$.extend(j,w)}else if($.isFunction(e)){j=$.extend(j,{over:w,out:e,selector:b})}else{j=$.extend(j,{over:w,out:w,selector:e})}var x,d,v,q;var m=function(c){x=c.pageX;d=c.pageY};var g=function(c,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if(Math.abs(v-x)+Math.abs(q-d)<j.sensitivity){$(f).off('mousemove.hoverIntent',m);f.hoverIntent_s=1;return j.over.apply(f,[c])}else{v=x;q=d;f.hoverIntent_t=setTimeout(function(){g(c,f)},j.interval)}};var p=function(f,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);c.hoverIntent_s=0;return j.out.apply(c,[f])};var k=function(c){var h=$.extend({},c);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(c.type=='mouseenter'){v=h.pageX;q=h.pageY;$(f).on('mousemove.hoverIntent',m);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){g(h,f)},j.interval)}}else{$(f).off('mousemove.hoverIntent',m);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){p(h,f)},j.timeout)}}};return this.on({'mouseenter.hoverIntent':k,'mouseleave.hoverIntent':k},j.selector)}
})(zsb$);



(function($,c,b){
	$.map('click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup'.split(' '),function(d){a(d)});a('focusin','focus'+b);a('focusout','blur'+b);$.addOutsideEvent=a;function a(g,e){e=e||g+b;var d=$(),h=g+'.'+e+'-special-event';$.event.special[e]={setup:function(){d=d.add(this);if(d.length===1){$(c).bind(h,f)}},teardown:function(){d=d.not(this);if(d.length===0){$(c).unbind(h)}},add:function(i){var j=i.handler;i.handler=function(l,k){l.target=k;j.apply(this,arguments)}}};function f(i){$(d).each(function(){var j=$(this);if(this!==i.target&&!j.has(i.target).length){j.triggerHandler(e,[i.target])}})}}
})(zsb$,document,'outside');



var zStickyBar = (function($) {

	var ZSB_VERSION = '1.0.0', ZSB_APP_STARTED = false, ZSB_APP_INITIALIZED = false, ZSB_WRELM_HTML = '',
		ZSB_APP_JS_FILE, ZSB_APP_CSS_FILE, ZSB_APP_IMAGE_FILE,
		ZSB_APP_JS_FILENAME, ZSB_APP_CSS_FILENAME, ZSB_APP_IMAGE_FILENAME,
		ZSB_APP_PATH, ZSB_APP_ROOT_PATH, ZSB_APP_JS_PATH, ZSB_APP_CSS_PATH, ZSB_APP_IMAGE_PATH,
		ZSB_FACEBOOK_URL_ID, ZSB_TWITTER_URL_ID, ZSB_GOOGLE_URL_ID, ZSB_FEEDBURNER_URL_ID,
		ZSB_WAIT_PAGE, ZSB_UPGRADE_SHOW, ZSB_UPGRADE_URL, ZSB_MSIE9_LT, ZSB_MSIE8_LT,
		ZSB_TOP_FULLWIDTH, ZSB_TOP_HIDDEN, ZSB_TOP_RESERVED,
		ZSB_BOTTOM_FULLWIDTH, ZSB_BOTTOM_HIDDEN, ZSB_BOTTOM_RESERVED,
		ZSB_OPTION_CSS_TEXT, GENERAL_CSS_TEXT, TOP_BAR_CSS_TEXT, BOTTOM_BAR_CSS_TEXT, CUSTOM_CSS_TEXT,
		DOC = document, L = unescape('%3C'), G = unescape('%3E'), TO = unescape(' %3E '), Q = unescape('%22'), S = unescape('%27'),
		HEAD = DOC.head || DOC.getElementsByTagName('head')[0], BODY = DOC.body || DOC.getElementsByTagName('body')[0];




	/* COMMON */

	function zsb_getId(ID,STARTNODE) {
		var STARTNODE = STARTNODE || DOC;
		return STARTNODE.getElementById(ID);
	}

	function zsb_checkId(ID) {
		try {
			return Boolean(zsb_getId(ID).nodeType === 1);
		} catch(e) {
			return false;
		}
	}

	function zsb_setupCSSText(TEXT,ID,MEDIA){
		var TEXT = TEXT || '', ID = ID || '', MEDIA = MEDIA || '',
			CSSNODE = DOC.createElement('style');
		CSSNODE.type = 'text/css';
		if (ID) { CSSNODE.id = ID; }
		if (MEDIA) { CSSNODE.setAttribute('media',MEDIA); }
		if (CSSNODE.styleSheet) {
			CSSNODE.styleSheet.cssText = TEXT;
		} else {
			CSSNODE.appendChild(DOC.createTextNode(TEXT));
		}
		HEAD.appendChild(CSSNODE);
	}
	function zsb_setupCSSLink(URL,ID,MEDIA) {
		var URL = URL || '', ID = ID || '', MEDIA = MEDIA || '',
			CSSNODE = DOC.createElement('link');
		CSSNODE.type = 'text/css';
		CSSNODE.rel = 'stylesheet';
		if (ID) { CSSNODE.id = ID; }
		if (MEDIA) { CSSNODE.setAttribute('media',MEDIA); }
		CSSNODE.href = URL;
		HEAD.appendChild(CSSNODE);
	}

	function zsb_openWindow(WINURL,WINNAME,WINOPT,WINCONTENT,WINTITLE) {
		var DEFWIDTH = parseInt(screen.width*85/100), DEFHEIGHT = parseInt(screen.height*75/100),
			DEFWINOPT = 'width='+DEFWIDTH+',height='+DEFHEIGHT+',scrollbars=yes,resizable=yes,menubar=no,toolbar=no,location=yes',
			WINURL = WINURL || '',
			WINNAME = WINNAME || 'zsb_OpenWindow',
			WINOPT = WINOPT || DEFWINOPT,
			WINCONTENT = WINCONTENT || '',
			WINTITLE = WINTITLE || '';
		var OPENWIN = window.open(WINURL,WINNAME,WINOPT);
		OPENWIN.window.focus();
		if (WINCONTENT) {
			WINCONTENT = (function() {
				var HTMLCODE;
				try {
					HTMLCODE = zsb_getId(WINCONTENT.replace(/^#/,'')).innerHTML;
				} catch (e) {
					HTMLCODE = WINCONTENT || '';
				}
				return HTMLCODE;
			})();
			var OWDOC = OPENWIN.document;
			if (OWDOC.all) {
				OWDOC.body.innerHTML = '';
				OWDOC.write(WINCONTENT);
			} else if (OWDOC.documentElement) {
				OWDOC.documentElement.innerHTML = WINCONTENT;
			} else if (OWDOC.body) {
				OWDOC.body.innerHTML = WINCONTENT;
			} else {
				OWDOC.write(WINCONTENT);
			}
		}
		if (WINTITLE) {
			OPENWIN.document.title = WINTITLE;
		}
	}




	/* OPTION PARSE */

	function zsb_parsePathOption(ZSBAO) {

		var ZSBAO = ZSBAO || {};

		ZSB_APP_JS_FILENAME = ZSBAO.App_JS_Filename || 'zstickybar.pre.min.js';
		ZSB_APP_CSS_FILENAME = ZSBAO.App_CSS_Filename || 'zstickybar.pre.min.css';
		ZSB_APP_IMAGE_FILENAME = ZSBAO.App_Image_Filename || 'zstickybar.pre.min.png';

/*
		//RECOMMENDED
		ZSB_APP_PATH = ZSBAO.App_Path || 'http://inimu.github.io/zstickybar/js/'+ZSB_APP_JS_FILENAME+'';
		ZSB_APP_ROOT_PATH = ZSBAO.App_Root_Path || 'http://inimu.github.io/zstickybar/';
		ZSB_APP_JS_PATH = ZSBAO.App_JS_Path || ZSB_APP_ROOT_PATH + 'js/';
		ZSB_APP_CSS_PATH = ZSBAO.App_CSS_Path || ZSB_APP_ROOT_PATH + 'css/';
		ZSB_APP_IMAGE_PATH = ZSBAO.App_Image_Path || ZSB_APP_ROOT_PATH + 'img/';
*/

		//EXPERIMENTAL
		ZSB_APP_PATH = ZSBAO.App_Path || (function(){
			var APPURL = '', APPID = 'zsb-app', APPCHECKSTR = 'zStickyBar 1.0.0 (2014.05)';
			if (zsb_checkId('zsb-app')) {
				APPURL = zsb_getId(APPID).src;
			} else if (DOC.currentScript) {
				APPURL = DOC.currentScript.src;
			} else {
				var DOCSCRIPTS = DOC.getElementsByTagName('script'),
					i, SCRIPT;
				for (var i = 0; SCRIPT = DOCSCRIPTS[i]; i++) {
					if (SCRIPT.src) {
						try {
							var REQUEST = new XMLHttpRequest();
							REQUEST.open('GET', SCRIPT.src, false);
							REQUEST.send(null);
							if (REQUEST.responseText.indexOf(APPCHECKSTR)) {
								APPURL = SCRIPT.src;
								break;
							}
						} catch (e) {
							var FNREGEX = new RegExp(ZSB_APP_JS_FILENAME);
							if (SCRIPT.src.match(FNREGEX)) {
								APPURL = SCRIPT.src;
								break;
							}
						}
					}
				}
			}
			return APPURL.split('?')[0];
		})();
		ZSB_APP_ROOT_PATH = ZSBAO.App_Root_Path || ZSB_APP_PATH.split('/').slice(0, -1).join('/')+'/../';
		ZSB_APP_JS_PATH = ZSBAO.App_JS_Path || ZSB_APP_ROOT_PATH + 'js/';
		ZSB_APP_CSS_PATH = ZSBAO.App_CSS_Path || ZSB_APP_ROOT_PATH + 'css/';
		ZSB_APP_IMAGE_PATH = ZSBAO.App_Image_Path || ZSB_APP_ROOT_PATH + 'img/';

		//ACTUAL FILE USED
		ZSB_APP_JS_FILE = ZSBAO.App_JS_File || ZSB_APP_JS_PATH + ZSB_APP_JS_FILENAME;
		ZSB_APP_CSS_FILE = ZSBAO.App_CSS_File || ZSB_APP_CSS_PATH + ZSB_APP_CSS_FILENAME;
		ZSB_APP_IMAGE_FILE = ZSBAO.App_Image_File || ZSB_APP_IMAGE_PATH + ZSB_APP_IMAGE_FILENAME;

	}



	function zsb_parseGeneralOption(ZSBAO) {

		var ZSBAO = ZSBAO || {};

		var ZSB_SMOOB = ZSBAO.Show_Message_On_Old_Browser || 'no';
		ZSB_UPGRADE_SHOW = Boolean( (ZSB_SMOOB === 'yes') || (ZSB_SMOOB === 'true') || (ZSB_SMOOB === true) );
		ZSB_UPGRADE_URL = ZSBAO.Browser_Upgrade_Link_URL || 'http://inimu.com/?on=browser-upgrade';

		var ZSB_WUPL = ZSBAO.Wait_Until_Page_Loaded || 'no';
		ZSB_WAIT_PAGE = Boolean( (ZSB_WUPL === 'yes') || (ZSB_WUPL === 'true') || (ZSB_WUPL === true) );

		ZSB_FACEBOOK_URL_ID = ZSBAO.Facebook_URL_ID || '';
		ZSB_TWITTER_URL_ID = ZSBAO.Twitter_URL_ID || '';
		ZSB_GOOGLE_URL_ID = ZSBAO.Google_URL_ID || '';
		ZSB_FEEDBURNER_URL_ID = ZSBAO.Feedburner_URL_ID || '';

	}




	function zsb_parseStyleOption(ZSBAO) {

		var ZSBAO = ZSBAO || {};



		// GENERAL STYLE

		var COLOR_THEME = ZSBAO.Color_Theme || 'light',
			FONT_FAMILY = ZSBAO.Font_Family || 'Ubuntu,Lucida,Calibri,Tahoma,Arial,sans-serif',
			FONT_WEIGHT = ZSBAO.Font_Weight || 'normal',
			FONT_SIZE = ZSBAO.Font_Size || '14px',
			LINE_HEIGHT = ZSBAO.Line_Height || '1.3';


		// BAR+CONTENTBOX+MENUBOX
		//bar
		var BAR_WIDTH = ZSBAO.Bar_Width || '100%',
			BAR_BASE_WIDTH = ZSBAO.Bar_Base_Width || '100%',
			BODY_SPACE_RESERVED = ZSBAO.Body_Space_Reserved || 'no',
			BAR_DEFAULT_HIDDEN = ZSBAO.Bar_Default_Hidden || 'no',
			BAR_ALIGN = ZSBAO.Bar_Align || 'center',
			BAR_PADDING = ZSBAO.Bar_Padding || '0',
			BAR_BORDER_RADIUS = ZSBAO.Bar_Border_Radius || '0',
			BAR_OPACITY = ZSBAO.Bar_Opacity || '1.0',
			BAR_BOXSHADOW_COLOR = ZSBAO.Bar_Boxshadow_Color || 'rgba(0,0,0,0.25)';

		if (COLOR_THEME === 'dark') {
			var BAR_BACKGROUND_COLOR = ZSBAO.Bar_Background_Color || '#444',
				BAR_BACKGROUND_IMAGE = ZSBAO.Bar_Background_Image || 'none',
				BAR_BORDER_COLOR = ZSBAO.Bar_Border_Color || '#222';
		} else {
			var BAR_BACKGROUND_COLOR = ZSBAO.Bar_Background_Color || '#eee',
				BAR_BACKGROUND_IMAGE = ZSBAO.Bar_Background_Image || 'none',
				BAR_BORDER_COLOR = ZSBAO.Bar_Border_Color || '#bbb';
		}

		//contentbox
		var CONTENTBOX_LINK_PADDING = ZSBAO.Bar_Link_Padding || '5px 8px',
			CONTENTBOX_ITEM_PADDING = ZSBAO.Bar_Item_Padding || '0',
			CONTENTBOX_ITEM_VERTICAL_ALIGN = ZSBAO.Bar_Item_Vertical_Align || 'middle',
			CONTENTBOX_ITEM_BORDER_RADIUS = ZSBAO.Bar_Item_Border_Radius || BAR_BORDER_RADIUS;

		if (COLOR_THEME === 'dark') {
			var CONTENTBOX_TEXT_COLOR = ZSBAO.Bar_Text_Color || '#ccc',
				CONTENTBOX_LINK_COLOR = ZSBAO.Bar_Link_Color || '#fff';
		} else {
			var CONTENTBOX_TEXT_COLOR = ZSBAO.Bar_Text_Color || '#555',
				CONTENTBOX_LINK_COLOR = ZSBAO.Bar_Link_Color || '#333';
		}
		var CONTENTBOX_LINK_BACKGROUND_COLOR = ZSBAO.Bar_Link_Background_Color || 'transparent',
			CONTENTBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Bar_Link_Background_Image || 'none',
			CONTENTBOX_LINK_BORDER_COLOR = ZSBAO.Bar_Link_Border_Color || 'transparent';

		if (COLOR_THEME === 'dark') {
			var CONTENTBOX_LINK_HOVER_COLOR = ZSBAO.Bar_Link_Hover_Color || '#fff',
				CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Bar_Link_Hover_Background_Color || '#595959',
				CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Bar_Link_Hover_Background_Image || 'none',
				CONTENTBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Bar_Link_Hover_Border_Color || '#333';
		} else {
			var CONTENTBOX_LINK_HOVER_COLOR = ZSBAO.Bar_Link_Hover_Color || '#333',
				CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Bar_Link_Hover_Background_Color || '#fff',
				CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Bar_Link_Hover_Background_Image || 'none',
				CONTENTBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Bar_Link_Hover_Border_Color || '#ccc';
		}

		//menubox
		var MENUBOX_TEXT_COLOR = ZSBAO.Menubox_Text_Color || CONTENTBOX_TEXT_COLOR,
			MENUBOX_LINK_COLOR = ZSBAO.Menubox_Link_Color || CONTENTBOX_LINK_COLOR,
			MENUBOX_BACKGROUND_COLOR = ZSBAO.Menubox_Background_Color || CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR,
			MENUBOX_BACKGROUND_IMAGE = ZSBAO.Menubox_Background_Image || 'none',
			MENUBOX_BORDER_COLOR = ZSBAO.Menubox_Border_Color || CONTENTBOX_LINK_HOVER_BORDER_COLOR,
			MENUBOX_ACCENT_BORDER_COLOR = ZSBAO.Menubox_Accent_Border_Color || MENUBOX_BACKGROUND_COLOR,
			MENUBOX_ACCENT_BORDER_WIDTH = ZSBAO.Menubox_Accent_Border_Width || '0',
			MENUBOX_LINK_BACKGROUND_COLOR = ZSBAO.Menubox_Link_Background_Color || 'transparent',
			MENUBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Menubox_Link_Background_Image || 'none',
			MENUBOX_LINK_BORDER_COLOR = ZSBAO.Menubox_Link_Border_Color || 'transparent',
			MENUBOX_PADDING = ZSBAO.Menubox_Padding || '8px',
			MENUBOX_BORDER_RADIUS = ZSBAO.Menubox_Border_Radius || BAR_BORDER_RADIUS,
			MENUBOX_BOXSHADOW_COLOR = ZSBAO.Menubox_Boxshadow_Color || BAR_BOXSHADOW_COLOR,
			MENUBOX_OPACITY = ZSBAO.Menubox_Opacity || '1.0',
			MENUBOX_LINK_PADDING = ZSBAO.Menubox_Link_Padding || CONTENTBOX_LINK_PADDING,
			MENUBOX_ITEM_PADDING = ZSBAO.Menubox_Item_Padding || MENUBOX_LINK_PADDING,
			MENUBOX_ITEM_BORDER_RADIUS = ZSBAO.Menubox_Item_Border_Radius || CONTENTBOX_ITEM_BORDER_RADIUS;

		if (COLOR_THEME === 'dark') {
			var MENUBOX_LINK_HOVER_COLOR = ZSBAO.Menubox_Link_Hover_Color || '#fff',
				MENUBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Menubox_Link_Hover_Background_Color || '#888',
				MENUBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Menubox_Link_Hover_Background_Image || 'none',
				MENUBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Menubox_Link_Hover_Border_Color || '#555';
		} else {
			var MENUBOX_LINK_HOVER_COLOR = ZSBAO.Menubox_Link_Hover_Color || '#222',
				MENUBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Menubox_Link_Hover_Background_Color || '#eee',
				MENUBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Menubox_Link_Hover_Background_Image || 'none',
				MENUBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Menubox_Link_Hover_Border_Color || '#dadada';
		}


		// TOP BAR+CONTENTBOX+MENUBOX
		//bar
		var TOP_BAR_WIDTH = ZSBAO.Top_Bar_Width || BAR_WIDTH,
			TOP_BAR_BASE_WIDTH = ZSBAO.Top_Bar_Base_Width || BAR_BASE_WIDTH;
		ZSB_TOP_FULLWIDTH = Boolean(TOP_BAR_BASE_WIDTH === '100%');

		var TOP_BDH = ZSBAO.Top_Bar_Default_Hidden || BAR_DEFAULT_HIDDEN;
		ZSB_TOP_HIDDEN = Boolean( (TOP_BDH === 'yes') || (TOP_BDH === 'true') || (TOP_BDH === true) );

		var TOP_BSR = ZSBAO.Top_Body_Space_Reserved || BODY_SPACE_RESERVED;
		ZSB_TOP_RESERVED = Boolean( (TOP_BSR === 'yes') || (TOP_BSR === 'true') || (TOP_BSR === true) );

		var TOP_BAR_ALIGN = ZSBAO.Top_Bar_Align || BAR_ALIGN,
			TOP_BAR_ALIGN_CSS_TEXT;
		if (TOP_BAR_ALIGN === 'left') {
			TOP_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-top,#zsb-bar-base-top{left:0;right:auto;margin:0 auto 0 0;}'+
				'#zsb-bar-control-fixed-top{left:50px;right:auto;margin:0 0 0 auto;}'+
			'';
		} else if (TOP_BAR_ALIGN === 'right') {
			TOP_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-top,#zsb-bar-base-top{left:auto;right:0;margin:0 0 0 auto;}'+
				'#zsb-bar-control-fixed-top{left:auto;right:50px;margin:0 0 0 auto;}'+
			'';
		} else {
			TOP_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-top,#zsb-bar-base-top{left:0;right:0;margin:0 auto;}'+
				'#zsb-bar-control-fixed-top{left:0;right:0;margin:0 auto;}'+
			'';
		}

		var TOP_BAR_PADDING = ZSBAO.Top_Bar_Padding || BAR_PADDING,
			TOP_BAR_BORDER_RADIUS = ZSBAO.Top_Bar_Border_Radius || BAR_BORDER_RADIUS,
			TOP_BAR_OPACITY = ZSBAO.Top_Bar_Opacity || BAR_OPACITY,
			TOP_BAR_BOXSHADOW_COLOR = ZSBAO.Top_Bar_Boxshadow_Color || BAR_BOXSHADOW_COLOR,
			TOP_BAR_BACKGROUND_COLOR = ZSBAO.Top_Bar_Background_Color || BAR_BACKGROUND_COLOR,
			TOP_BAR_BACKGROUND_IMAGE = ZSBAO.Top_Bar_Background_Image || BAR_BACKGROUND_IMAGE,
			TOP_BAR_BORDER_COLOR = ZSBAO.Top_Bar_Border_Color || BAR_BORDER_COLOR;

		//contentbox
		var TOP_CONTENTBOX_ITEM_VERTICAL_ALIGN = ZSBAO.Top_Bar_Item_Vertical_Align || CONTENTBOX_ITEM_VERTICAL_ALIGN,
			TOP_CONTENTBOX_ITEM_BORDER_RADIUS = ZSBAO.Top_Bar_Item_Border_Radius || CONTENTBOX_ITEM_BORDER_RADIUS,
			TOP_CONTENTBOX_LINK_PADDING = ZSBAO.Top_Bar_Link_Padding || CONTENTBOX_LINK_PADDING,
			TOP_CONTENTBOX_ITEM_PADDING = ZSBAO.Top_Bar_Item_Padding || CONTENTBOX_ITEM_PADDING,
			TOP_CONTENTBOX_TEXT_COLOR = ZSBAO.Top_Bar_Text_Color || CONTENTBOX_TEXT_COLOR,
			TOP_CONTENTBOX_LINK_COLOR = ZSBAO.Top_Bar_Link_Color || CONTENTBOX_LINK_COLOR,
			TOP_CONTENTBOX_LINK_BACKGROUND_COLOR = ZSBAO.Top_Bar_Link_Background_Color || CONTENTBOX_LINK_BACKGROUND_COLOR,
			TOP_CONTENTBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Top_Bar_Link_Background_Image || CONTENTBOX_LINK_BACKGROUND_IMAGE,
			TOP_CONTENTBOX_LINK_BORDER_COLOR = ZSBAO.Top_Bar_Link_Border_Color || CONTENTBOX_LINK_BORDER_COLOR,
			TOP_CONTENTBOX_LINK_HOVER_COLOR = ZSBAO.Top_Bar_Link_Hover_Color || CONTENTBOX_LINK_HOVER_COLOR,
			TOP_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Top_Bar_Link_Hover_Background_Color || CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR,
			TOP_CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Top_Bar_Link_Hover_Background_Image || CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE,
			TOP_CONTENTBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Top_Bar_Link_Hover_Border_Color || CONTENTBOX_LINK_HOVER_BORDER_COLOR;

		//menubox
		var TOP_MENUBOX_BACKGROUND_COLOR = ZSBAO.Top_Menubox_Background_Color || MENUBOX_BACKGROUND_COLOR,
			TOP_MENUBOX_BACKGROUND_IMAGE = ZSBAO.Top_Menubox_Background_Image || MENUBOX_BACKGROUND_IMAGE,
			TOP_MENUBOX_BORDER_COLOR = ZSBAO.Top_Menubox_Border_Color || MENUBOX_BORDER_COLOR,
			TOP_MENUBOX_PADDING = ZSBAO.Top_Menubox_Padding || MENUBOX_PADDING,
			TOP_MENUBOX_BORDER_RADIUS = ZSBAO.Top_Menubox_Border_Radius || MENUBOX_BORDER_RADIUS,
			TOP_MENUBOX_ACCENT_BORDER_COLOR = ZSBAO.Top_Menubox_Accent_Border_Color || MENUBOX_ACCENT_BORDER_COLOR,
			TOP_MENUBOX_ACCENT_BORDER_WIDTH = ZSBAO.Top_Menubox_Accent_Border_Width || MENUBOX_ACCENT_BORDER_WIDTH,
			TOP_MENUBOX_BOXSHADOW_COLOR = ZSBAO.Top_Menubox_Boxshadow_Color || MENUBOX_BOXSHADOW_COLOR,
			TOP_MENUBOX_OPACITY = ZSBAO.Top_Menubox_Opacity || MENUBOX_OPACITY,
			TOP_MENUBOX_LINK_PADDING = ZSBAO.Top_Menubox_Link_Padding || MENUBOX_LINK_PADDING,
			TOP_MENUBOX_ITEM_PADDING = ZSBAO.Top_Menubox_Item_Padding || MENUBOX_ITEM_PADDING,
			TOP_MENUBOX_ITEM_BORDER_RADIUS = ZSBAO.Top_Menubox_Item_Border_Radius || MENUBOX_ITEM_BORDER_RADIUS,
			TOP_MENUBOX_TEXT_COLOR = ZSBAO.Top_Menubox_Text_Color || MENUBOX_TEXT_COLOR,
			TOP_MENUBOX_LINK_COLOR = ZSBAO.Top_Menubox_Link_Color || MENUBOX_LINK_COLOR,
			TOP_MENUBOX_LINK_BACKGROUND_COLOR = ZSBAO.Top_Menubox_Link_Background_Color || MENUBOX_LINK_BACKGROUND_COLOR,
			TOP_MENUBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Top_Menubox_Link_Background_Image || MENUBOX_LINK_BACKGROUND_IMAGE,
			TOP_MENUBOX_LINK_BORDER_COLOR = ZSBAO.Top_Menubox_Link_Border_Color || MENUBOX_LINK_BORDER_COLOR,
			TOP_MENUBOX_LINK_HOVER_COLOR = ZSBAO.Top_Menubox_Link_Hover_Color || MENUBOX_LINK_HOVER_COLOR,
			TOP_MENUBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Top_Menubox_Link_Hover_Background_Color || MENUBOX_LINK_HOVER_BACKGROUND_COLOR,
			TOP_MENUBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Top_Menubox_Link_Hover_Background_Image || MENUBOX_LINK_HOVER_BACKGROUND_IMAGE,
			TOP_MENUBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Top_Menubox_Link_Hover_Border_Color || MENUBOX_LINK_HOVER_BORDER_COLOR;


		// BOTTOM BAR+CONTENTBOX+MENUBOX
		//bar
		var BOTTOM_BAR_WIDTH = ZSBAO.Bottom_Bar_Width || BAR_WIDTH,
			BOTTOM_BAR_BASE_WIDTH = ZSBAO.Bottom_Bar_Base_Width || BAR_BASE_WIDTH;
		ZSB_BOTTOM_FULLWIDTH = Boolean(BOTTOM_BAR_BASE_WIDTH === '100%');

		var BOTTOM_BDH = ZSBAO.Bottom_Bar_Default_Hidden || BAR_DEFAULT_HIDDEN;
		ZSB_BOTTOM_HIDDEN = Boolean( (BOTTOM_BDH === 'yes') || (BOTTOM_BDH === 'true') || (BOTTOM_BDH === true) );

		var BOTTOM_BSR = ZSBAO.Bottom_Body_Space_Reserved || BODY_SPACE_RESERVED;
		ZSB_BOTTOM_RESERVED = Boolean( (BOTTOM_BSR === 'yes') || (BOTTOM_BSR === 'true') || (BOTTOM_BSR === true) );

		var BOTTOM_BAR_ALIGN = ZSBAO.Bottom_Bar_Align || BAR_ALIGN,
			BOTTOM_BAR_ALIGN_CSS_TEXT;
		if (BOTTOM_BAR_ALIGN === 'left') {
			BOTTOM_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-bottom,#zsb-bar-base-bottom{left:0;right:auto;margin:0 auto 0 0;}'+
				'#zsb-bar-control-fixed-bottom{left:50px;right:auto;margin:0 0 0 auto;}'+
			'';
		} else if (BOTTOM_BAR_ALIGN === 'right') {
			BOTTOM_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-bottom,#zsb-bar-base-bottom{left:auto;right:0;margin:0 0 0 auto;}'+
				'#zsb-bar-control-fixed-bottom{left:auto;right:50px;margin:0 0 0 auto;}'+
			'';
		} else {
			BOTTOM_BAR_ALIGN_CSS_TEXT = ''+
				'#zsb-bar-bottom,#zsb-bar-base-bottom{left:0;right:0;margin:0 auto;}'+
				'#zsb-bar-control-fixed-bottom{left:0;right:0;margin:0 auto;}'+
			'';
		}

		var BOTTOM_BAR_PADDING = ZSBAO.Bottom_Bar_Padding || BAR_PADDING,
			BOTTOM_BAR_BORDER_RADIUS = ZSBAO.Bottom_Bar_Border_Radius || BAR_BORDER_RADIUS,
			BOTTOM_BAR_OPACITY = ZSBAO.Bottom_Bar_Opacity || BAR_OPACITY,
			BOTTOM_BAR_BOXSHADOW_COLOR = ZSBAO.Bottom_Bar_Boxshadow_Color || BAR_BOXSHADOW_COLOR,
			BOTTOM_BAR_BACKGROUND_COLOR = ZSBAO.Bottom_Bar_Background_Color || BAR_BACKGROUND_COLOR,
			BOTTOM_BAR_BACKGROUND_IMAGE = ZSBAO.Bottom_Bar_Background_Image || BAR_BACKGROUND_IMAGE,
			BOTTOM_BAR_BORDER_COLOR = ZSBAO.Bottom_Bar_Border_Color || BAR_BORDER_COLOR;

		//contentbox
		var BOTTOM_CONTENTBOX_ITEM_VERTICAL_ALIGN = ZSBAO.Bottom_Bar_Item_Vertical_Align || CONTENTBOX_ITEM_VERTICAL_ALIGN,
			BOTTOM_CONTENTBOX_ITEM_BORDER_RADIUS = ZSBAO.Bottom_Bar_Item_Border_Radius || CONTENTBOX_ITEM_BORDER_RADIUS,
			BOTTOM_CONTENTBOX_LINK_PADDING = ZSBAO.Bottom_Bar_Link_Padding || CONTENTBOX_LINK_PADDING,
			BOTTOM_CONTENTBOX_ITEM_PADDING = ZSBAO.Bottom_Bar_Item_Padding || CONTENTBOX_ITEM_PADDING,
			BOTTOM_CONTENTBOX_TEXT_COLOR = ZSBAO.Bottom_Bar_Text_Color || CONTENTBOX_TEXT_COLOR,
			BOTTOM_CONTENTBOX_LINK_COLOR = ZSBAO.Bottom_Bar_Link_Color || CONTENTBOX_LINK_COLOR,
			BOTTOM_CONTENTBOX_LINK_BACKGROUND_COLOR = ZSBAO.Bottom_Bar_Link_Background_Color || CONTENTBOX_LINK_BACKGROUND_COLOR,
			BOTTOM_CONTENTBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Bottom_Bar_Link_Background_Image || CONTENTBOX_LINK_BACKGROUND_IMAGE,
			BOTTOM_CONTENTBOX_LINK_BORDER_COLOR = ZSBAO.Bottom_Bar_Link_Border_Color || CONTENTBOX_LINK_BORDER_COLOR,
			BOTTOM_CONTENTBOX_LINK_HOVER_COLOR = ZSBAO.Bottom_Bar_Link_Hover_Color || CONTENTBOX_LINK_HOVER_COLOR,
			BOTTOM_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Bottom_Bar_Link_Hover_Background_Color || CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR,
			BOTTOM_CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Bottom_Bar_Link_Hover_Background_Image || CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE,
			BOTTOM_CONTENTBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Bottom_Bar_Link_Hover_Border_Color || CONTENTBOX_LINK_HOVER_BORDER_COLOR;

		//menubox
		var BOTTOM_MENUBOX_BACKGROUND_COLOR = ZSBAO.Bottom_Menubox_Background_Color || MENUBOX_BACKGROUND_COLOR,
			BOTTOM_MENUBOX_BACKGROUND_IMAGE = ZSBAO.Bottom_Menubox_Background_Image || MENUBOX_BACKGROUND_IMAGE,
			BOTTOM_MENUBOX_BORDER_COLOR = ZSBAO.Bottom_Menubox_Border_Color || MENUBOX_BORDER_COLOR,
			BOTTOM_MENUBOX_PADDING = ZSBAO.Bottom_Menubox_Padding || MENUBOX_PADDING,
			BOTTOM_MENUBOX_BORDER_RADIUS = ZSBAO.Bottom_Menubox_Border_Radius || MENUBOX_BORDER_RADIUS,
			BOTTOM_MENUBOX_ACCENT_BORDER_COLOR = ZSBAO.Bottom_Menubox_Accent_Border_Color || MENUBOX_ACCENT_BORDER_COLOR,
			BOTTOM_MENUBOX_ACCENT_BORDER_WIDTH = ZSBAO.Bottom_Menubox_Accent_Border_Width || MENUBOX_ACCENT_BORDER_WIDTH,
			BOTTOM_MENUBOX_BOXSHADOW_COLOR = ZSBAO.Bottom_Menubox_Boxshadow_Color || MENUBOX_BOXSHADOW_COLOR,
			BOTTOM_MENUBOX_OPACITY = ZSBAO.Bottom_Menubox_Opacity || MENUBOX_OPACITY,
			BOTTOM_MENUBOX_LINK_PADDING = ZSBAO.Bottom_Menubox_Link_Padding || MENUBOX_LINK_PADDING,
			BOTTOM_MENUBOX_ITEM_PADDING = ZSBAO.Bottom_Menubox_Item_Padding || MENUBOX_ITEM_PADDING,
			BOTTOM_MENUBOX_ITEM_BORDER_RADIUS = ZSBAO.Bottom_Menubox_Item_Border_Radius || MENUBOX_ITEM_BORDER_RADIUS,
			BOTTOM_MENUBOX_TEXT_COLOR = ZSBAO.Bottom_Menubox_Text_Color || MENUBOX_TEXT_COLOR,
			BOTTOM_MENUBOX_LINK_COLOR = ZSBAO.Bottom_Menubox_Link_Color || MENUBOX_LINK_COLOR,
			BOTTOM_MENUBOX_LINK_BACKGROUND_COLOR = ZSBAO.Bottom_Menubox_Link_Background_Color || MENUBOX_LINK_BACKGROUND_COLOR,
			BOTTOM_MENUBOX_LINK_BACKGROUND_IMAGE = ZSBAO.Bottom_Menubox_Link_Background_Image || MENUBOX_LINK_BACKGROUND_IMAGE,
			BOTTOM_MENUBOX_LINK_BORDER_COLOR = ZSBAO.Bottom_Menubox_Link_Border_Color || MENUBOX_LINK_BORDER_COLOR,
			BOTTOM_MENUBOX_LINK_HOVER_COLOR = ZSBAO.Bottom_Menubox_Link_Hover_Color || MENUBOX_LINK_HOVER_COLOR,
			BOTTOM_MENUBOX_LINK_HOVER_BACKGROUND_COLOR = ZSBAO.Bottom_Menubox_Link_Hover_Background_Color || MENUBOX_LINK_HOVER_BACKGROUND_COLOR,
			BOTTOM_MENUBOX_LINK_HOVER_BACKGROUND_IMAGE = ZSBAO.Bottom_Menubox_Link_Hover_Background_Image || MENUBOX_LINK_HOVER_BACKGROUND_IMAGE,
			BOTTOM_MENUBOX_LINK_HOVER_BORDER_COLOR = ZSBAO.Bottom_Menubox_Link_Hover_Border_Color || MENUBOX_LINK_HOVER_BORDER_COLOR;



		// OUTPUT CSS TEXT

		var IDBARTOP = '#zsb-bar-top',
			IDBARBOTTOM = '#zsb-bar-bottom',
			ULCONTENTBOX = 'ul.zsb-contentbox',
			ULMENUBOX = 'ul.zsb-menubox',
			CSSBKG = 'background-',
			CSSBDR = 'border-',
			CSSCLR = 'color:';

		//general
		GENERAL_CSS_TEXT = ZSBAO.General_CSS_Text || ''+
			'#zsb-wrapper,'+
			'#zsb-wrapper ul,'+
			'#zsb-wrapper ol,'+
			'#zsb-wrapper li{'+
				'font-family:'+FONT_FAMILY+';'+
				'font-weight:'+FONT_WEIGHT+';'+
				'font-size:'+FONT_SIZE+';'+
				'line-height:'+LINE_HEIGHT+';'+
			'}'+
			'.zsb-close-button:after{'+
				'line-height:'+FONT_SIZE+';'+
			'}'+
		'';

		//top
		TOP_BAR_CSS_TEXT = ZSBAO.Top_Bar_CSS_Text || ''+
			''+TOP_BAR_ALIGN_CSS_TEXT+''+
			'#zsb-bar-base-top,'+
			''+IDBARTOP+'{'+
				''+CSSBDR+'radius:'+TOP_BAR_BORDER_RADIUS+';'+
			'}'+
			'#zsb-bar-base-top{'+
				'width:'+TOP_BAR_BASE_WIDTH+';'+
				'min-width:'+TOP_BAR_WIDTH+';'+
				''+CSSBKG+''+CSSCLR+''+TOP_BAR_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_BAR_BACKGROUND_IMAGE+';'+
				'box-shadow:0 0 10px '+TOP_BAR_BOXSHADOW_COLOR+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_BAR_BORDER_COLOR+';'+
				'opacity:'+TOP_BAR_OPACITY+';'+
			'}'+
			'.zsb-bar-top-temp{'+
				''+CSSBKG+''+CSSCLR+''+TOP_BAR_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_BAR_BACKGROUND_IMAGE+';'+
				'box-shadow:0 0 10px '+TOP_BAR_BOXSHADOW_COLOR+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_BAR_BORDER_COLOR+';'+
				'opacity:'+TOP_BAR_OPACITY+';'+
			'}'+
			''+IDBARTOP+'{'+
				'width:'+TOP_BAR_WIDTH+';'+
				'max-width:'+TOP_BAR_BASE_WIDTH+';'+
			'}'+
			''+IDBARTOP+' '+ULCONTENTBOX+'{'+
				'padding:'+TOP_BAR_PADDING+';'+
			'}'+
			''+IDBARTOP+','+
			''+IDBARTOP+' '+ULCONTENTBOX+'{'+
				''+CSSCLR+''+TOP_CONTENTBOX_TEXT_COLOR+';'+
			'}'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' .zsb-contentbox-vspacer{'+
				'vertical-align:'+TOP_CONTENTBOX_ITEM_VERTICAL_ALIGN+';'+
			'}'+
			''+IDBARTOP+' a,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' a,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > a{'+
				''+CSSCLR+''+TOP_CONTENTBOX_LINK_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+TOP_CONTENTBOX_LINK_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_CONTENTBOX_LINK_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_CONTENTBOX_LINK_BORDER_COLOR+';'+
				''+CSSBDR+'radius:'+TOP_CONTENTBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li .zsb-item-base,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li .zsb-with-base:before,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > a.zsb-bar-control,'+
			''+IDBARTOP+' a.zsb-bar-control{'+
				''+CSSBDR+'radius:'+TOP_CONTENTBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > a{'+
				'padding:'+TOP_CONTENTBOX_LINK_PADDING+';'+
			'}'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > div{'+
				'padding:'+TOP_CONTENTBOX_ITEM_PADDING+';'+
			'}'+
			''+IDBARTOP+' a:hover,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' a:hover,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > a:hover,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li:hover > a,'+
			''+IDBARTOP+' '+ULCONTENTBOX+' > li > a.zsb-contentbox-item-on{'+
				''+CSSCLR+''+TOP_CONTENTBOX_LINK_HOVER_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+TOP_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_CONTENTBOX_LINK_HOVER_BORDER_COLOR+';'+
				''+CSSBDR+'bottom-'+CSSCLR+''+TOP_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+'{'+
				''+CSSBDR+''+CSSCLR+''+TOP_MENUBOX_BORDER_COLOR+';'+
				''+CSSBDR+'top-'+CSSCLR+''+TOP_MENUBOX_ACCENT_BORDER_COLOR+';'+
				''+CSSBDR+'top-width:'+TOP_MENUBOX_ACCENT_BORDER_WIDTH+';'+
				'padding:'+TOP_MENUBOX_PADDING+';'+
			'}'+
			''+IDBARTOP+' li.zsb-menu-popover '+ULMENUBOX+':before{'+
				''+CSSBDR+'bottom-'+CSSCLR+''+TOP_MENUBOX_ACCENT_BORDER_COLOR+';'+
			'}'+
			''+IDBARTOP+' li.zsb-menu-popover '+ULMENUBOX+':after{'+
				''+CSSBDR+'bottom-'+CSSCLR+''+TOP_MENUBOX_BACKGROUND_COLOR+';'+
			'}'+
			''+IDBARTOP+' .zsb-menubox-base{'+
				''+CSSBKG+''+CSSCLR+''+TOP_MENUBOX_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_MENUBOX_BACKGROUND_IMAGE+';'+
				'box-shadow:0 2px 10px '+TOP_MENUBOX_BOXSHADOW_COLOR+';'+
				'opacity:'+TOP_MENUBOX_OPACITY+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+','+
			''+IDBARTOP+' .zsb-menubox-base{'+
				''+CSSBDR+'radius:'+TOP_MENUBOX_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' #zsb-contentbox-top-right '+ULMENUBOX+','+
			''+IDBARTOP+' #zsb-contentbox-top-right .zsb-menubox-base{'+
				''+CSSBDR+'radius:'+TOP_MENUBOX_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+','+
			''+IDBARTOP+' '+ULMENUBOX+' .zsb-menu-table{'+
				''+CSSCLR+''+TOP_MENUBOX_TEXT_COLOR+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' > li > a,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-menu-table a{'+
				'padding:'+TOP_MENUBOX_LINK_PADDING+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' > li > div,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-menu-table div{'+
				'padding:'+TOP_MENUBOX_ITEM_PADDING+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' a,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li > a,'+
			''+IDBARTOP+' '+ULMENUBOX+' .zsb-menu-table a,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-menu-table a{'+
				''+CSSCLR+''+TOP_MENUBOX_LINK_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+TOP_MENUBOX_LINK_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_MENUBOX_LINK_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_MENUBOX_LINK_BORDER_COLOR+';'+
				''+CSSBDR+'radius:'+TOP_MENUBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-item-base,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-with-base:before{'+
				''+CSSBDR+'radius:'+BOTTOM_MENUBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' a:hover,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li > a:hover,'+
			''+IDBARTOP+' '+ULMENUBOX+' .zsb-menu-table a:hover,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li .zsb-menu-table a:hover,'+
			''+IDBARTOP+' '+ULMENUBOX+' > li > a.zsb-menubox-item-on{'+
				''+CSSCLR+''+TOP_MENUBOX_LINK_HOVER_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+TOP_MENUBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+TOP_MENUBOX_LINK_HOVER_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+TOP_MENUBOX_LINK_HOVER_BORDER_COLOR+';'+
			'}'+
			''+IDBARTOP+' '+ULMENUBOX+' > li.zsb-menu-separator{'+
				''+CSSBDR+''+CSSCLR+''+TOP_MENUBOX_TEXT_COLOR+';'+
			'}'+
		'';

		//bottom
		BOTTOM_BAR_CSS_TEXT = ZSBAO.Bottom_Bar_CSS_Text || ''+
			''+BOTTOM_BAR_ALIGN_CSS_TEXT+''+
			'#zsb-bar-base-bottom,'+
			''+IDBARBOTTOM+'{'+
				''+CSSBDR+'radius:'+BOTTOM_BAR_BORDER_RADIUS+';'+
			'}'+
			'#zsb-bar-base-bottom{'+
				'width:'+BOTTOM_BAR_BASE_WIDTH+';'+
				'min-width:'+BOTTOM_BAR_WIDTH+';'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_BAR_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_BAR_BACKGROUND_IMAGE+';'+
				'box-shadow:0 0 10px '+BOTTOM_BAR_BOXSHADOW_COLOR+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_BAR_BORDER_COLOR+';'+
				'opacity:'+BOTTOM_BAR_OPACITY+';'+
			'}'+
			'.zsb-bar-bottom-temp{'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_BAR_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_BAR_BACKGROUND_IMAGE+';'+
				'box-shadow:0 0 10px '+BOTTOM_BAR_BOXSHADOW_COLOR+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_BAR_BORDER_COLOR+';'+
				'opacity:'+BOTTOM_BAR_OPACITY+';'+
			'}'+
			''+IDBARBOTTOM+'{'+
				'width:'+BOTTOM_BAR_WIDTH+';'+
				'max-width:'+BOTTOM_BAR_BASE_WIDTH+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+'{'+
				'padding:'+BOTTOM_BAR_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+','+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+'{'+
				''+CSSCLR+''+BOTTOM_CONTENTBOX_TEXT_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' .zsb-contentbox-vspacer{'+
				'vertical-align:'+BOTTOM_CONTENTBOX_ITEM_VERTICAL_ALIGN+';'+
			'}'+
			''+IDBARBOTTOM+' a,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' a,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > a{'+
				''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_CONTENTBOX_LINK_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_BORDER_COLOR+';'+
				''+CSSBDR+'radius:'+BOTTOM_CONTENTBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li .zsb-item-base,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li .zsb-with-base:before,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > a.zsb-bar-control,'+
			''+IDBARBOTTOM+' a.zsb-bar-control{'+
				''+CSSBDR+'radius:'+BOTTOM_CONTENTBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > a{'+
				'padding:'+BOTTOM_CONTENTBOX_LINK_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > div{'+
				'padding:'+BOTTOM_CONTENTBOX_ITEM_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+' a:hover,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' a:hover,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > a:hover,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li:hover > a,'+
			''+IDBARBOTTOM+' '+ULCONTENTBOX+' > li > a.zsb-contentbox-item-on{'+
				''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_HOVER_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_CONTENTBOX_LINK_HOVER_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_HOVER_BORDER_COLOR+';'+
				''+CSSBDR+'top-'+CSSCLR+''+BOTTOM_CONTENTBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+'{'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_MENUBOX_BORDER_COLOR+';'+
				''+CSSBDR+'bottom-'+CSSCLR+''+BOTTOM_MENUBOX_ACCENT_BORDER_COLOR+';'+
				''+CSSBDR+'bottom-width:'+BOTTOM_MENUBOX_ACCENT_BORDER_WIDTH+';'+
				'padding:'+BOTTOM_MENUBOX_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+' li.zsb-menu-popover '+ULMENUBOX+':before{'+
				''+CSSBDR+'top-'+CSSCLR+''+BOTTOM_MENUBOX_ACCENT_BORDER_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' li.zsb-menu-popover '+ULMENUBOX+':after{'+
				''+CSSBDR+'top-'+CSSCLR+''+BOTTOM_MENUBOX_BACKGROUND_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' .zsb-menubox-base{'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_MENUBOX_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_MENUBOX_BACKGROUND_IMAGE+';'+
				'box-shadow:0 2px 10px '+BOTTOM_MENUBOX_BOXSHADOW_COLOR+';'+
				'opacity:'+BOTTOM_MENUBOX_OPACITY+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+','+
			''+IDBARBOTTOM+' .zsb-menubox-base{'+
				''+CSSBDR+'radius:'+BOTTOM_MENUBOX_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' #zsb-contentbox-bottom-right '+ULMENUBOX+','+
			''+IDBARBOTTOM+' #zsb-contentbox-bottom-right .zsb-menubox-base{'+
				''+CSSBDR+'radius:'+BOTTOM_MENUBOX_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+','+
			''+IDBARBOTTOM+' '+ULMENUBOX+' .zsb-menu-table{'+
				''+CSSCLR+''+BOTTOM_MENUBOX_TEXT_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li > a,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-menu-table a{'+
				'padding:'+BOTTOM_MENUBOX_LINK_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li > div,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-menu-table div{'+
				'padding:'+BOTTOM_MENUBOX_ITEM_PADDING+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' a,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li > a,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' .zsb-menu-table a,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-menu-table a{'+
				''+CSSCLR+''+BOTTOM_MENUBOX_LINK_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_MENUBOX_LINK_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_MENUBOX_LINK_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_MENUBOX_LINK_BORDER_COLOR+';'+
				''+CSSBDR+'radius:'+BOTTOM_MENUBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-item-base,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-with-base:before{'+
				''+CSSBDR+'radius:'+BOTTOM_MENUBOX_ITEM_BORDER_RADIUS+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' a:hover,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li > a:hover,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' .zsb-menu-table a:hover,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li .zsb-menu-table a:hover,'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li > a.zsb-menubox-item-on{'+
				''+CSSCLR+''+BOTTOM_MENUBOX_LINK_HOVER_COLOR+';'+
				''+CSSBKG+''+CSSCLR+''+BOTTOM_MENUBOX_LINK_HOVER_BACKGROUND_COLOR+';'+
				''+CSSBKG+'image:'+BOTTOM_MENUBOX_LINK_HOVER_BACKGROUND_IMAGE+';'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_MENUBOX_LINK_HOVER_BORDER_COLOR+';'+
			'}'+
			''+IDBARBOTTOM+' '+ULMENUBOX+' > li.zsb-menu-separator{'+
				''+CSSBDR+''+CSSCLR+''+BOTTOM_MENUBOX_TEXT_COLOR+';'+
			'}'+
		'';


		//custom
		CUSTOM_CSS_TEXT = ZSBAO.Custom_CSS_Text || '';


		ZSB_OPTION_CSS_TEXT = GENERAL_CSS_TEXT + TOP_BAR_CSS_TEXT + BOTTOM_BAR_CSS_TEXT + CUSTOM_CSS_TEXT;

	}


	function zsb_parseAppOption(ZSBAO) {

		var ZSBAO = ZSBAO || {};

		zsb_parsePathOption(ZSBAO);
		zsb_parseGeneralOption(ZSBAO);
		zsb_parseStyleOption(ZSBAO);

	}




	/* BROWSERCHECK */

	function zsb_checkBrowser() {
		var UAREGEX = new RegExp('MSIE ([0-9]{1,}[\.0-9]{0,})');
		if ( (navigator.appName.indexOf('Microsoft Internet Explorer') >= 0) && (UAREGEX.exec(navigator.userAgent) !== null) ) {
			var IEVER = parseFloat(RegExp.$1);
			ZSB_MSIE9_LT = Boolean(IEVER < 9.0);
			ZSB_MSIE8_LT = Boolean(IEVER < 8.0);
		}
		if (ZSB_MSIE8_LT) {
			ZSB_TOP_HIDDEN = false;
			ZSB_BOTTOM_HIDDEN = false;
			$('#zsb-wrapper,#zsb-bodyspacer-top,#zsb-bodyspacer-bottom').addClass('zsb-dissapear');
		}
		var BTELM = zsb_getId(unescape('%7A%73%62%2D%62%6F%6F%74%6E%6F%64%65')),
			BTELMREF = unescape('%68%74%74%70%3A%2F%2F%69%6E%69%6D%75%2E%63%6F%6D%2F%77%69%64%67%65%74%2F%7A%73%74%69%63%6B%79%62%61%72'),
			BTELMTITLE = unescape('%7A%53%74%69%63%6B%79%42%61%72%20%57%69%64%67%65%74%20%62%79%20%69%6E%69%6D%75%2E%63%6F%6D'),
			BTELMHTML = unescape('%3C%61%20%69%64%3D%22%7A%73%62%2D%62%6F%6F%74%6E%6F%64%65%22%20%68%72%65%66%3D%22%68%74%74%70%3A%2F%2F%69%6E%69%6D%75%2E%63%6F%6D%2F%77%69%64%67%65%74%2F%7A%73%74%69%63%6B%79%62%61%72%22%3E%7A%53%74%69%63%6B%79%42%61%72%20%57%69%64%67%65%74%20%62%79%20%69%6E%69%6D%75%2E%63%6F%6D%3C%2F%61%3E'),
			BTELMATTRLEN = (function(){
			var COUNT = 0;
			for (var i = 0, ATTR; ATTR = BTELM.attributes[i]; i++) {
				/*if (ZSB_MSIE9_LT) {
					if (ATTR.specified) { COUNT++; }
				} else {
					COUNT++;
				}*/
				if (typeof ATTR.specified === 'boolean') {
					if (ATTR.specified) { COUNT++; }
				} else {
					COUNT++;
				}
			}
			return COUNT;
		})();
		var WRELMID = unescape('%7A%73%62%2D%77%69%64%67%65%74%2D%72%65%66');
		ZSB_WRELM_HTML = '<div id="'+WRELMID+'"><a href="'+BTELMREF+'" target="_blank" title="'+BTELMTITLE+'"><i class="fa fa-info-circle"></i></a></div>';
		if ( (BTELM.href !== BTELMREF) || (BTELMATTRLEN !== 2) ) { zsb_getId('zsb-wrapper').innerHTML = ''; }
	}
	function zsb_showUpgradebox(SIMULATE) {
		var SIMULATE = Boolean(SIMULATE === true);
		if (ZSB_MSIE8_LT || SIMULATE) {
			ZSB_TOP_HIDDEN = false;
			ZSB_BOTTOM_HIDDEN = false;
			$('#zsb-wrapper,#zsb-bodyspacer-top,#zsb-bodyspacer-bottom').addClass('zsb-dissapear');
			if (ZSB_UPGRADE_SHOW || SIMULATE) {
				var UPGRADEBOX, UPGRADELINK, UPGRADECLOSE,
					UPGRADEBOXID = 'zsb-upgrade-box',
					UPGRADELINKID = 'zsb-upgrade-link',
					UPGRADECLOSEID = 'zsb-upgrade-close',
					UPGRADETITLE = 'Free download latest browser and upgrade your browser today!',
					UPGRADETARGETWIN = '_blank',
					UPGRADETARGETLOC = ZSB_UPGRADE_URL;
				//upgradebox
				if (! zsb_checkId(UPGRADEBOXID)) {
					UPGRADEBOX = DOC.createElement('a');
					UPGRADEBOX.id = UPGRADEBOXID;
					UPGRADEBOX.href = UPGRADETARGETLOC;
					UPGRADEBOX.title = UPGRADETITLE;
					UPGRADEBOX.target = UPGRADETARGETWIN;
					UPGRADEBOX.innerHTML = ''+
						'It looks like you are using an insecure version of Internet Explorer. '+
						'Using an outdated browser makes your computer unsafe.<br/>'+
						'For the best experience on the web, please update your browser.<br/>'+
					'';
					BODY.insertBefore(UPGRADEBOX,BODY.firstChild);
				}
				//upgradelink
				UPGRADEBOX = zsb_getId(UPGRADEBOXID);
				if (! zsb_checkId(UPGRADELINKID)) {
					UPGRADELINK = DOC.createElement('a');
					UPGRADELINK.id = UPGRADELINKID;
					UPGRADELINK.title = UPGRADETITLE;
					UPGRADELINK.href = UPGRADETARGETLOC;
					UPGRADELINK.target = UPGRADETARGETWIN;
					UPGRADELINK.innerHTML = 'Upgrade your browser!';
					UPGRADEBOX.appendChild(UPGRADELINK);
				}
				//upgradeclose
				if (! zsb_checkId(UPGRADECLOSE)) {
					UPGRADECLOSE = DOC.createElement('input');
					UPGRADECLOSE.id = UPGRADECLOSEID;
					UPGRADECLOSE.type = 'button';
					UPGRADECLOSE.value = 'Dismiss';
					UPGRADECLOSE.title = 'Close this message bar';
					UPGRADECLOSE.onclick = function(){ zsb_hideUpgradebox(true); return false; }
					UPGRADEBOX.appendChild(UPGRADECLOSE);
				}
			}
		}
	}
	function zsb_hideUpgradebox(REMOVE) {
		var REMOVE = Boolean(REMOVE === true);
		if (! ZSB_MSIE8_LT) {
			$('#zsb-wrapper,#zsb-bodyspacer-top,#zsb-bodyspacer-bottom').removeClass('zsb-dissapear');
		}
		if (REMOVE) {
			$('#zsb-upgrade-box').remove();
		} else {
			$('#zsb-upgrade-box').hide(0);
		}
	}
	function zsb_toggleUpgradebox() {
		if (zsb_checkId('zsb-upgrade-box')) {
			zsb_hideUpgradebox(true);
		} else {
			zsb_showUpgradebox(true);
		}
	}




	/* FOLLOWBOX */

	function zsb_setupFollowbox(){

		var FBK_BOX_HTML = '', TWT_BOX_HTML = '', GGL_BOX_HTML = '', FDB_BOX_HTML = '';

		//facebook
		if (ZSB_FACEBOOK_URL_ID) {
			var FBK_URL = 'http://www.facebook.com/'+ZSB_FACEBOOK_URL_ID+'',
				FBK_IFR_URL = '//www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2F'+ZSB_FACEBOOK_URL_ID+'&amp;locale=en_US&amp;width&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;share=true&amp;height=21';
			FBK_BOX_HTML = ''+
				'<div id="zsb-facebook-box" class="zsb-follow-item" style="display:inline-block;vertical-align:middle;">'+
					'<iframe id="zsb-facebook" src="'+FBK_IFR_URL+'" '+
						'allowTransparency="true" frameborder="0" scrolling="no" '+
						'style="border:none;overflow:hidden;width:130px;height:20px;"></iframe>'+
				'</div>'+
			'';
		}

		//twitter
		if (ZSB_TWITTER_URL_ID) {
			var TWT_URL = 'http://twitter.com/'+ZSB_TWITTER_URL_ID+'',
				TWT_IFR_URL = '//platform.twitter.com/widgets/follow_button.html?screen_name='+ZSB_TWITTER_URL_ID+'&lang=en&show_screen_name=false';
			TWT_BOX_HTML = ''+
				'<div id="zsb-twitter-box" class="zsb-follow-item" style="display:inline-block;vertical-align:middle;">'+
					'<iframe id="zsb-twitter" src="'+TWT_IFR_URL+'" '+
						'allowtransparency="true" frameborder="0" scrolling="no" '+
						'style="overflow:hidden;border:none;width:145px;height:20px;"></iframe>'+
				'</div>'+
			'';
		}

		//google
		if (ZSB_GOOGLE_URL_ID) {
			var GGL_URL = 'https://plus.google.com/'+ZSB_GOOGLE_URL_ID+'';
			function zsbLoadGoogleScript() {
				var po = document.createElement('script');
				po.type = 'text/javascript';
				po.src = 'https://apis.google.com/js/platform.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(po, s);
			}
			GGL_BOX_HTML = ''+
				'<div id="zsb-google-box" class="zsb-follow-item" style="display:inline-block;vertical-align:middle;">'+
					'<div id="zsb-google">'+
						'<div class="g-follow" data-annotation="bubble" data-height="20" data-href="'+GGL_URL+'" data-rel="publisher"></div>'+
					'</div>'+
				'</div>'+
			'';
		}

		//feedburner
		if (ZSB_FEEDBURNER_URL_ID) {
			var FDB_URL = 'http://feeds.feedburner.com/'+ZSB_FEEDBURNER_URL_ID+'',
				FDB_MAIL_ACTION_URL = 'https://feedburner.google.com/fb/a/mailverify',
				FDB_MAIL_URL = ''+FDB_MAIL_ACTION_URL+'?uri='+ZSB_FEEDBURNER_URL_ID+'',
				FDB_IMG_URL = 'http://feeds.feedburner.com/~fc/'+ZSB_FEEDBURNER_URL_ID+'?bg=CCCCCC&amp;fg=000000&amp;anim=0',
				FDB_MAIL_WIN_NAME = 'zsb_FdbMailVerifyWin',
				FDB_EMAIL_INIT_VAL = 'Enter email here',
				FDB_BTN_TITLE_STR = 'Enter your email address, and then click Follow button',
				FDB_INPUT_BDR_CLR_BLUR = '#999',
				FDB_INPUT_BDR_CLR_FOCUS = '#4ae',
				FDB_ENTRY_CLR_BLUR = '#888',
				FDB_ENTRY_CLR_FOCUS = '#000',
				FDB_ENTRY_BG_CLR_BLUR = '#fff',
				FDB_ENTRY_BG_CLR_FOCUS = '#ffe',
				FDB_BTN_CLR_BLUR = '#fff',
				FDB_BTN_CLR_FOCUS = '#444',
				FDB_BTN_BG_CLR_BLUR = '#9ab',
				FDB_BTN_BG_CLR_FOCUS = '#bdf';
			function zsbSetFeedburnerEmailValue() {
				var EMAIL = zsb_getId('zsb-feedburner-email');
				if (EMAIL.value === FDB_EMAIL_INIT_VAL) {
					EMAIL.value = '';
				} else if (EMAIL.value === '') {
					EMAIL.value = FDB_EMAIL_INIT_VAL;
				}
			}
			function zsbSetFeedburnerFocusBlurStyle(TRUEFALSE) {
				var FOCUS = Boolean(TRUEFALSE),
					BLUR = Boolean(! TRUEFALSE),
					TABLEstl = zsb_getId('zsb-feedburner-table').style,
					COUNTERstl = zsb_getId('zsb-feedburner-counter').style,
					COUNTERBOXstl = zsb_getId('zsb-feedburner-counter-box').style,
					EMAILstl = zsb_getId('zsb-feedburner-email').style,
					EMAILBOXstl = zsb_getId('zsb-feedburner-email-box').style,
					SUBMITstl = zsb_getId('zsb-feedburner-submit').style,
					SUBMITBOXstl = zsb_getId('zsb-feedburner-submit-box').style;
				if (FOCUS) {
					$('#zsb-feedburner-table').toggleClass('zsb-fdb-table-blur zsb-fdb-table-focus');
					COUNTERBOXstl.borderColor = FDB_INPUT_BDR_CLR_FOCUS;
					EMAILstl.color = FDB_ENTRY_CLR_FOCUS;
					EMAILBOXstl.backgroundColor = FDB_ENTRY_BG_CLR_FOCUS;
					EMAILBOXstl.borderColor = FDB_INPUT_BDR_CLR_FOCUS;
					SUBMITstl.color = FDB_BTN_CLR_FOCUS;
					SUBMITBOXstl.backgroundColor = FDB_BTN_BG_CLR_FOCUS;
					SUBMITBOXstl.borderColor = FDB_INPUT_BDR_CLR_FOCUS;
				} else {
					$('#zsb-feedburner-table').toggleClass('zsb-fdb-table-focus zsb-fdb-table-blur');
					COUNTERBOXstl.borderColor = FDB_INPUT_BDR_CLR_BLUR;
					EMAILstl.color = FDB_ENTRY_CLR_BLUR;
					EMAILBOXstl.backgroundColor = FDB_ENTRY_BG_CLR_BLUR;
					EMAILBOXstl.borderColor = FDB_INPUT_BDR_CLR_BLUR;
					SUBMITstl.color = FDB_BTN_CLR_BLUR;
					SUBMITBOXstl.backgroundColor = FDB_BTN_BG_CLR_BLUR;
					SUBMITBOXstl.borderColor = FDB_INPUT_BDR_CLR_BLUR;
				}
			}
			function zsbSetFeedburnerEvent() {
				$('#zsb-feedburner-counter').on('click',function(e) {
					e.preventDefault;
					zsb_openWindow(FDB_MAIL_URL,FDB_MAIL_WIN_NAME,'width=600,height=600,resizable=yes');
					return false;
				});
				$('#zsb-feedburner-form').on('submit',function(e) {
					e.preventDefault;
					zsb_openWindow(FDB_MAIL_URL,FDB_MAIL_WIN_NAME,'width=600,height=600,resizable=yes');
					return true;
				});
				$('#zsb-feedburner-counter,#zsb-feedburner-email,#zsb-feedburner-submit').on('focus',function(e) {
					zsbSetFeedburnerFocusBlurStyle(true);
				});
				$('#zsb-feedburner-counter,#zsb-feedburner-email,#zsb-feedburner-submit').on('blur',function(e) {
					zsbSetFeedburnerFocusBlurStyle(false);
				});
				$('#zsb-feedburner-email').on('focus',function(e) {
					zsbSetFeedburnerEmailValue();
				});
				$('#zsb-feedburner-email').on('blur',function(e) {
					zsbSetFeedburnerEmailValue();
				});
			}
			FDB_BOX_HTML = ''+
				'<div id="zsb-feedburner-box" class="zsb-follow-item" style="display:inline-block;vertical-align:middle;">'+
					'<form id="zsb-feedburner-form"'+
						'target="'+FDB_MAIL_WIN_NAME+'" method="post" '+
						'action="'+FDB_MAIL_ACTION_URL+'">'+
						'<table id="zsb-feedburner-table" class="zsb-fdb-table-blur"><tbody><tr>'+
							'<td '+
								'id="zsb-feedburner-counter-box" '+
								'style="border-color:'+FDB_INPUT_BDR_CLR_BLUR+';">'+
								'<a '+
									'id="zsb-feedburner-counter" class="fb_chicklet" '+
									'href="'+FDB_MAIL_URL+'" '+
									'title="'+FDB_BTN_TITLE_STR+'" target="_blank" rel="nofollow" '+
									'style="background-image:url('+FDB_IMG_URL+') !important;">'+
								'</a>'+
							'</td>'+
							'<td '+
								'id="zsb-feedburner-email-box" '+
								'style="background-color:'+FDB_ENTRY_BG_CLR_BLUR+';border-color:'+FDB_INPUT_BDR_CLR_BLUR+';">'+
								'<input '+
									'id="zsb-feedburner-email" name="email" '+
									'type="text" value="'+FDB_EMAIL_INIT_VAL+'" '+
									'title="'+FDB_BTN_TITLE_STR+'" '+
									'style="color:'+FDB_ENTRY_CLR_BLUR+';">'+
								'<input type="hidden" name="uri" value="'+ZSB_FEEDBURNER_URL_ID+'">'+
								'<input type="hidden" name="loc" value="en_US">'+
							'</td>'+
							'<td '+
								'id="zsb-feedburner-submit-box" '+
								'style="background-color:'+FDB_BTN_BG_CLR_BLUR+';border-color:'+FDB_INPUT_BDR_CLR_BLUR+';">'+
								'<input '+
									'id="zsb-feedburner-submit" '+
									'type="submit" value="Follow" '+
									'title="'+FDB_BTN_TITLE_STR+'" '+
									'style="color:'+FDB_BTN_CLR_BLUR+';">'+
							'</td>'+
						'</tr></tbody></table>'+
					'</form>'+
				'</div>'+
			'';
		}

		//followbox
		if ((ZSB_FACEBOOK_URL_ID) || (ZSB_TWITTER_URL_ID) || (ZSB_GOOGLE_URL_ID) || (ZSB_FEEDBURNER_URL_ID)) {
			if (zsb_checkId('zsb-followbox')) {
				var FOLLOWBOX_VSPACER_HTML = '<div id="zsb-followbox-vspacer" class="zsb-followbox-vspacer" style="display:inline-block;vertical-align:middle;"></div>',
					FOLLOWBOX_HTML = FBK_BOX_HTML + TWT_BOX_HTML + FOLLOWBOX_VSPACER_HTML + GGL_BOX_HTML + FDB_BOX_HTML,
					FOLLOWBOX = zsb_getId('zsb-followbox');
				FOLLOWBOX.style.whiteSpace = 'nowrap';
				FOLLOWBOX.innerHTML = FOLLOWBOX_HTML;
				if (ZSB_GOOGLE_URL_ID) { zsbLoadGoogleScript(); }
				if (ZSB_FEEDBURNER_URL_ID) { zsbSetFeedburnerEvent(); }
			}
		}

	}




	/* BARSETUP */

	/* INITSTYLE */
	function zsb_setClassNameInitStyle() {
		var BARclsname = 'zsb-bar',
			CONTENTBOXclsname = 'zsb-contentbox',
			CONTENTBOXITEMclsname = 'zsb-contentbox-item',
			MENUBOXclsname = 'zsb-menubox',
			MENUBOXITEMclsname = 'zsb-menubox-item',
			INITCSSTEXT = ''+
			'.zsb-clearer,hr.zsb-clearer{height:0;margin:0;padding:0;border:none;opacity:0;}'+
			'.zsb-contentbox,ul.zsb-contentbox{margin:0;padding:0;list-style:none;}'+
			'.zsb-contentbox > li,ul.zsb-contentbox > li{vertical-align:middle;display:inline-block;}'+
			'.zsb-menubox,ul.zsb-menubox{display:none;list-style:none;}'+
		'';
		function zsbSetClass(POS) {
			$('#'+BARclsname+'-'+POS+'').addClass(''+BARclsname+'');
			$('#'+CONTENTBOXclsname+'-'+POS+'-left, #'+CONTENTBOXclsname+'-'+POS+'-right, #'+CONTENTBOXclsname+'-'+POS+'-center').addClass(''+CONTENTBOXclsname+'');
		}
		zsbSetClass('top');
		zsbSetClass('bottom');

		$('ul.'+CONTENTBOXclsname+' > li').addClass(''+CONTENTBOXITEMclsname+'');
		$('li[data-zsb-menu-hover] > ul, li[data-zsb-menu-click] > ul').addClass(''+MENUBOXclsname+'');
		$('ul.'+MENUBOXclsname+' > li:not(.zsb-menu-separator,.zsb-menu-spacer)').addClass(''+MENUBOXITEMclsname+'');

		zsb_setupCSSText(INITCSSTEXT,'zsb-init-style');

		$('.'+BARclsname+'').append('<hr class="zsb-clearer" />');
		$('.'+MENUBOXITEMclsname+'').append('<hr class="zsb-clearer" />');

		$('iframe, embed, object').css('background', 'none');
		$('iframe, embed, object').attr('allowTransparency', 'true');
	}

	/* CONTENTBOX */
	function zsb_GetMaxHeightOfElements(JQUERYSELECTOR) {
		var MAXHEIGHT = 0, ELM, ELMHEIGHT;
		for (var n = 0; ELM = $(JQUERYSELECTOR)[n]; n++) {
			ELMHEIGHT = parseInt($(ELM).height());
			if (ELMHEIGHT > MAXHEIGHT) {
				MAXHEIGHT = ELMHEIGHT;
			}
		}
		return MAXHEIGHT;
	}
	function zsb_setContentboxSize(CHECKCHILDREN) {
		var CHECKCHILDREN = Boolean(CHECKCHILDREN === true),
			CONTENTBOXclsname = 'zsb-contentbox',
			CONTENTBOXVSPACERclsname = ''+CONTENTBOXclsname+'-vspacer',
			CONTENTBOXFILLERclsname = ''+CONTENTBOXclsname+'-filler',
			SIDES = [ 'left', 'right','center' ];
		function zsbSetCtbSize(POS) {
			var CONTENTBOXobj, CONTENTBOXVSPACERobj, CONTENTBOXFILLERobj,
				leftCONTENTBOXobj = $('#'+CONTENTBOXclsname+'-'+POS+'-left'),
				leftCONTENTBOXVSPACERobj = $('#'+CONTENTBOXVSPACERclsname+'-'+POS+'-left'),
				leftCONTENTBOXFILLERobj = $('#'+CONTENTBOXFILLERclsname+'-'+POS+'-left'),
				rightCONTENTBOXobj = $('#'+CONTENTBOXclsname+'-'+POS+'-right'),
				rightCONTENTBOXVSPACERobj = $('#'+CONTENTBOXVSPACERclsname+'-'+POS+'-right'),
				rightCONTENTBOXFILLERobj = $('#'+CONTENTBOXFILLERclsname+'-'+POS+'-right'),
				centerCONTENTBOXobj = $('#'+CONTENTBOXclsname+'-'+POS+'-center'),
				centerCONTENTBOXVSPACERobj = $('#'+CONTENTBOXVSPACERclsname+'-'+POS+'-center'),
				centerCONTENTBOXFILLERobj = $('#'+CONTENTBOXFILLERclsname+'-'+POS+'-center');
			function zsbGetMaxElmHeight() {
				var MAXHEIGHT = 0, ELM, ELMHEIGHT;
				for (var i = 0, SIDE; SIDE = SIDES[i]; i++) {
					for (var n = 0; ELM = $('#'+CONTENTBOXclsname+'-'+POS+'-'+SIDE+' > li')[n]; n++) {
						ELMHEIGHT = parseInt($(ELM).height());
						if (ELMHEIGHT > MAXHEIGHT) {
							MAXHEIGHT = ELMHEIGHT;
						}
					}
				}
				return MAXHEIGHT;
			}
			//normalize
			//left
			leftCONTENTBOXobj.css('height','auto');
			leftCONTENTBOXVSPACERobj.css('height','auto');
			leftCONTENTBOXFILLERobj.css('width','auto');
			leftCONTENTBOXFILLERobj.css('height','auto');
			//right
			rightCONTENTBOXobj.css('height','auto');
			rightCONTENTBOXVSPACERobj.css('height','auto');
			rightCONTENTBOXFILLERobj.css('width','auto');
			rightCONTENTBOXFILLERobj.css('height','auto');
			//center
			centerCONTENTBOXobj.css('width','auto');
			centerCONTENTBOXobj.css('height','auto');
			centerCONTENTBOXobj.css('left','auto');
			centerCONTENTBOXobj.css('right','auto');
			centerCONTENTBOXVSPACERobj.css('height','auto');
			centerCONTENTBOXFILLERobj.css('width','auto');
			centerCONTENTBOXFILLERobj.css('height','auto');
			//computedsize
			var leftCONTENTBOXheight = leftCONTENTBOXobj.height(),
				rightCONTENTBOXheight = rightCONTENTBOXobj.height(),
				centerCONTENTBOXheight = centerCONTENTBOXobj.height(),
				centerCONTENTBOXwidth = centerCONTENTBOXobj.width();
			//maxheight
			var maxCONTENTBOXheight = (CHECKCHILDREN) ?
				zsb_GetMaxHeightOfElements('#zsb-bar-'+POS+' ul.'+CONTENTBOXclsname+' > li') :
				Math.max(leftCONTENTBOXheight,rightCONTENTBOXheight,centerCONTENTBOXheight);
			//setsize
			if (maxCONTENTBOXheight === 0) {
				leftCONTENTBOXobj.css('display','none');
				rightCONTENTBOXobj.css('display','none');
				centerCONTENTBOXobj.css('display','none');
			} else {
				//contentbox(center)
				centerCONTENTBOXobj.css('width',centerCONTENTBOXwidth+'px');
				centerCONTENTBOXobj.css('left','0');
				centerCONTENTBOXobj.css('right','0');
				for (var i = 0, SIDE; SIDE = SIDES[i]; i++) {
					CONTENTBOXobj = $('#'+CONTENTBOXclsname+'-'+POS+'-'+SIDE+'');
					//vspacer
					CONTENTBOXVSPACERobj = $('#'+CONTENTBOXVSPACERclsname+'-'+POS+'-'+SIDE+'');
					CONTENTBOXVSPACERobj.css('height',maxCONTENTBOXheight+'px');
					//filler
					CONTENTBOXFILLERobj = $('#'+CONTENTBOXFILLERclsname+'-'+POS+'-'+SIDE+'');
					CONTENTBOXFILLERobj.css('width',CONTENTBOXobj.outerWidth()+'px');
					CONTENTBOXFILLERobj.css('height',CONTENTBOXobj.outerHeight()+'px');
				}
			}
		}
		zsbSetCtbSize('top');
		zsbSetCtbSize('bottom');
	}
	function zsb_setupContentbox() {
		var CONTENTBOXclsname = 'zsb-contentbox',
			CONTENTBOXVSPACERclsname = ''+CONTENTBOXclsname+'-vspacer',
			CONTENTBOXFILLERclsname = ''+CONTENTBOXclsname+'-filler',
			SIDES = [ 'left', 'right', 'center' ];
		function zsbSetupCtb(POS) {
			var CONTENTBOX, CONTENTBOXVSPACER, CONTENTBOXFILLER,
				WSREGEX = new RegExp('\S');
			for (var i = 0, SIDE; SIDE = SIDES[i]; i++) {
				CONTENTBOX = zsb_getId(''+CONTENTBOXclsname+'-'+POS+'-'+SIDE+'');
				$(CONTENTBOX).contents().filter(function() {
					return (this.nodeType === 3 && !WSREGEX.test(this.nodeValue));
				}).remove();
				//vspacer
				CONTENTBOXVSPACER = DOC.createElement('div');
				CONTENTBOXVSPACER.id = ''+CONTENTBOXVSPACERclsname+'-'+POS+'-'+SIDE+'';
				CONTENTBOXVSPACER.className = ''+CONTENTBOXVSPACERclsname+'';
				CONTENTBOX.appendChild(CONTENTBOXVSPACER);
				//filler
				CONTENTBOXFILLER = DOC.createElement('div');
				CONTENTBOXFILLER.id = ''+CONTENTBOXFILLERclsname+'-'+POS+'-'+SIDE+'';
				CONTENTBOXFILLER.className = ''+CONTENTBOXFILLERclsname+'';
				CONTENTBOX.insertBefore(CONTENTBOXFILLER,CONTENTBOX.firstChild);
			}
			$('.'+CONTENTBOXclsname+' li .zsb-item-base').parent(':not(.zsb-menubox)').css('position','relative');
		}
		zsbSetupCtb('top');
		zsbSetupCtb('bottom');
	}

	/* MENU */
	function zsb_setupContentboxMenuboxMenu() {
		$('#zsb-bar-top li[data-zsb-menu-hover] > a, #zsb-bar-top li[data-zsb-menu-click] > a').append(' <i class="fa fa-caret-down"></i>');
		$('#zsb-bar-bottom li[data-zsb-menu-hover] > a, #zsb-bar-bottom li[data-zsb-menu-click] > a').append(' <i class="fa fa-caret-up"></i>');
		$('li[data-zsb-menu-click] > a').attr('data-zsb-menu-toggler','');
		$('.zsb-menubox').prepend('<div class="zsb-menubox-base"></div>');
		$('.zsb-menu-popover').prepend('<div class="zsb-menu-popover-filler"></div>');
		for (var t = 0, TM; TM = $('.zsb-menu-table')[t]; t++) {
			for (var r = 0, TR; TR = TM.getElementsByTagName('tr')[r]; r++) {
				if (TR.getElementsByTagName('td').length >= 2) {
					var TDL = TR.getElementsByTagName('td').length;
					var LASTTD = TR.getElementsByTagName('td')[TDL-1];
					if (! LASTTD.style.textAlign) {
						LASTTD.style.textAlign = 'right';
					}
					var TDWIDTH = 100/TDL;
					for (var d = 0, TD; TD = TR.getElementsByTagName('td')[d]; d++) {
						if (! TD.style.width) {
							TD.style.width = TDWIDTH+'%';
						}
					}
				}
			}
		}
	}

	/* BAR */
	function zsb_setBodySpacerBarBaseSize(CHECKCHILDREN) {
		var CHECKCHILDREN = Boolean(CHECKCHILDREN === true),
			BAR, BARBASE, BODYSPACER, BARHEIGHT;
		function zsbSetBsBbSize(POS) {
			BAR = zsb_getId('zsb-bar-'+POS+'');
			BARHEIGHT = BAR.offsetHeight;
			BARHEIGHT = (CHECKCHILDREN) ?
				zsb_GetMaxHeightOfElements('#zsb-bar-'+POS+' ul.zsb-contentbox') :
				$(BAR).height();
			//barbase
			BARBASE = zsb_getId('zsb-bar-base-'+POS+'');
			BARBASE.style.height = BARHEIGHT+'px';
			//bodyspacer
			if (zsb_checkId('zsb-bodyspacer-'+POS+'')) {
				BODYSPACER = zsb_getId('zsb-bodyspacer-'+POS+'');
				if ( ((POS === 'top') && (ZSB_TOP_RESERVED)) || ((POS === 'bottom') && (ZSB_BOTTOM_RESERVED)) ) {
					BODYSPACER.style.height = BARHEIGHT+'px';
				} else {
					BODYSPACER.style.height = 0;
					BODYSPACER.style.border = 0;
				}
			}
		}
		zsbSetBsBbSize('top');
		zsbSetBsBbSize('bottom');
	}
	function zsb_setupBodySpacerBarBaseBarFiller() {
		var BAR, BODYSPACER, BARBASE, BARFILLER;
		function zsbSetupBsBbBf(POS) {
			BAR = zsb_getId('zsb-bar-'+POS+'');
			//bodyspacer
			BODYSPACER = DOC.createElement('div');
			BODYSPACER.id = 'zsb-bodyspacer-'+POS+'';
			if ( (POS === 'top') && (ZSB_TOP_RESERVED) ) {
				BODY.insertBefore(BODYSPACER,BODY.firstChild);
			} else if ( (POS === 'bottom')  && (ZSB_BOTTOM_RESERVED) ) {
				BODY.appendChild(BODYSPACER);
			}
			//barbase
			BARBASE = DOC.createElement('div');
			BARBASE.id = 'zsb-bar-base-'+POS+'';
			if (POS === 'top') {
				if (ZSB_TOP_FULLWIDTH) {
					BARBASE.style.borderWidth = '0 0 1px 0';
				} else {
					BARBASE.style.borderWidth = '0 1px 1px 1px';
				}
			} else if (POS === 'bottom') {
				if (ZSB_BOTTOM_FULLWIDTH) {
					BARBASE.style.borderWidth = '1px 0 0 0';
				} else {
					BARBASE.style.borderWidth = '1px 1px 0 1px';
				}
			}
			zsb_getId('zsb-wrapper').insertBefore(BARBASE,BAR);
			//barfiller
			BARFILLER = DOC.createElement('div');
			BARFILLER.id = 'zsb-bar-filler-'+POS+'';
			BAR.insertBefore(BARFILLER,BAR.firstChild);
		}
		zsbSetupBsBbBf('top');
		zsbSetupBsBbBf('bottom');
	}

	function zsb_setupBarControl() {
		var CONTROL, CONTROLFIXED;
		function zsbSetupBarCtrl(POS) {
			if (zsb_checkId('zsb-bar-control-'+POS+'')) {
				//control
				CONTROL = zsb_getId('zsb-bar-control-'+POS+'');
				CONTROL.className += ' zsb-bar-control zsb-close-button';
				CONTROL.title = 'Hide '+POS+' bar';
				//controlfixed
				CONTROLFIXED = DOC.createElement('div');
				CONTROLFIXED.id = 'zsb-bar-control-fixed-'+POS+'';
				CONTROLFIXED.className = 'zsb-bar-control-fixed';
				CONTROLFIXED.title = 'Show '+POS+' bar';
				CONTROLFIXED.style.display = 'none';
				var CONTAINER = zsb_getId('zsb-wrapper');
				CONTAINER.insertBefore(CONTROLFIXED,CONTAINER.firstChild);
			}
		}
		zsbSetupBarCtrl('top');
		zsbSetupBarCtrl('bottom');
		$('#zsb-bar-control-top, #zsb-bar-control-bottom, .zsb-close-button').prepend('<i class="fa fa-times-circle"></i>');
		$('#zsb-bar-control-fixed-top').prepend('<i class="fa fa-chevron-down"></i>');
		$('#zsb-bar-control-fixed-bottom').prepend('<i class="fa fa-chevron-up"></i>');
	}

	/* WRAPPER */
	function zsb_showWrapper() {
		var WRAPPERstl = zsb_getId('zsb-wrapper').style;
		WRAPPERstl.display = 'block';
		WRAPPERstl.visibility = 'visible';
		WRAPPERstl.position = 'static';
		WRAPPERstl.opacity = '1.0';
	}

	/* SCROLLBOX */
	function zsb_setupScrollbox() {
		var SCROLLBOX_HTML = ''+
			'<div id="zsb-scroll-button-box">'+
				'<div id="zsb-scroll-button-top"><i class="fa fa-chevron-circle-up"></i></div>'+
				''+ZSB_WRELM_HTML+''+
				'<div id="zsb-scroll-button-bottom"><i class="fa fa-chevron-circle-down"></i></div>'+
			'</div>'+
		'';
		var SCROLLBOX = DOC.createElement('div');
		SCROLLBOX.id = 'zsb-scrollbox';
		SCROLLBOX.innerHTML = SCROLLBOX_HTML;
		var CONTAINER = zsb_getId('zsb-wrapper');
		CONTAINER.insertBefore(SCROLLBOX,CONTAINER.firstChild);
	}

	/* LINKTITLE */
	function zsb_setLinkTitle() {
		$('#zsb-wrapper a[data-zsb-menu-toggler]').each(function(){
			var TOGGLERTITLE = $(this).prop('title') || '';
			if (! TOGGLERTITLE) {
				$(this).prop('title','Click to open/close menu box');
			}
		});
		$('#zsb-bar-top a, #zsb-bar-bottom a').each(function () {
			var TITLE = $(this).prop('title') || '';
			if (! TITLE) {
				if ( ($(this).hasClass('fa-home')) || ($(this).children().hasClass('fa-home')) ) {
					$(this).prop('title','Home page');
				} else {
					var TEXT = $(this).contents().filter(function(){
						return this.nodeType === 3;
					}).text();
					$(this).prop('title',TEXT);
				}
			}
		});
	}




	/* EVENTBIND */

	/* MENUPOP */
	function zsb_setEventMenuItem(){

		$('#zsb-wrapper li[data-zsb-menu-hover]').hoverIntent(function() {
			$(this).find('.zsb-menubox').slideToggle('fast');
		},function() {
			$(this).find('.zsb-menubox').slideToggle('fast');
		});

		$('#zsb-wrapper a[data-zsb-menu-toggler]').on('click',function() {
			$(this).closest('li[data-zsb-menu-click]').find('.zsb-menubox').slideToggle('fast');
		});
		$('#zsb-wrapper li[data-zsb-menu-click] > a[data-zsb-menu-toggler]').on('click',function() {
			if ($(this).hasClass('zsb-contentbox-item-on')) {
				$(this).removeClass('zsb-contentbox-item-on');
			} else {
				$(this).addClass('zsb-contentbox-item-on');
			}
		});
		$('#zsb-wrapper ul.zsb-menubox a[data-zsb-menu-toggler]').on('click',function() {
			$(this).closest('li[data-zsb-menu-click]').find('a[data-zsb-menu-toggler]').removeClass('zsb-contentbox-item-on');
		});

		$('#zsb-bar-top li[data-zsb-menu-click]').on('clickoutside',function(e){
			if (! $(this).data('zsbMenuClick')) {
				$(this).find('a[data-zsb-menu-toggler]').removeClass('zsb-contentbox-item-on');
				$(this).find('.zsb-menubox').slideUp('fast');
			}
		});
		$('#zsb-bar-bottom li[data-zsb-menu-click]').on('clickoutside',function(e){
			if (! $(this).data('zsbMenuClick')) {
				$(this).find('a[data-zsb-menu-toggler]').removeClass('zsb-contentbox-item-on');
				$(this).find('.zsb-menubox').slideDown('fast');
			}
		});

	}

	/* SCROLL */
	function zsb_scrollToTop(){
		$(function($) {
			$('html,body').animate({scrollTop:0},1000);
		});
	}
	function zsb_scrollToBottom(){
		$(function($) {
			$('html,body').animate({scrollTop:$(document).height()-$(window).height()},1000);
		});
	}
	function zsb_setEventScroll(){
		$('#zsb-bar-base-top, #zsb-bar-filler-top, #zsb-bar-top .zsb-contentbox-filler, #zsb-scroll-button-top').prop('title', 'Scroll to top');
		$('#zsb-bar-base-top, #zsb-bar-filler-top, #zsb-bar-top .zsb-contentbox-filler, #zsb-scroll-button-top').on('click', function() {
			zsb_scrollToTop();
		});
		$('#zsb-bar-base-bottom, #zsb-bar-filler-bottom, #zsb-bar-bottom .zsb-contentbox-filler, #zsb-scroll-button-bottom').prop('title', 'Scroll to bottom');
		$('#zsb-bar-base-bottom, #zsb-bar-filler-bottom, #zsb-bar-bottom .zsb-contentbox-filler, #zsb-scroll-button-bottom').on('click', function() {
			zsb_scrollToBottom();
		});
		$('#zsb-scrollbox').hover(function() {
			$(this).stop().animate({'opacity':1});
		},function() {
			$(this).stop().animate({'opacity':0.5});
		});
		$('#zsb-scrollbox').hoverIntent(function() {
			$('#zsb-widget-ref').animate({'width':'toggle'});
		},function() {
			$('#zsb-widget-ref').animate({'width':'toggle'});
		});
	}

	/* SHOWHIDEBAR */
	function zsb_showTopBottomBar() {
		var BAR, BARBASE, BODYSPACER;
		function zsbShowBar(POS) {
			BAR = zsb_getId('zsb-bar-'+POS+'');
			BARBASE = zsb_getId('zsb-bar-base-'+POS+'');
			if (BAR.offsetHeight === 0) {
				BAR.style.height = 0; BAR.style.display = 'none';
				BARBASE.style.height = 0; BARBASE.style.display = 'none';
				if (zsb_checkId('zsb-bodyspacer-'+POS+'')) {
					BODYSPACER = zsb_getId('zsb-bodyspacer-'+POS+'');
					BODYSPACER.style.height = 0; BODYSPACER.style.display = 'none';
				}
			} else {
				BAR.style.visibility = 'visible';
				BAR.style.zIndex = '1000000';
			}
		}
		zsbShowBar('top');
		zsbShowBar('bottom');
	}
	function zsb_setEventBarControl(){
		function zsbSetEvBarCtrl(POS){
			$('#zsb-bar-control-'+POS+'').on('click',function() {
				zsb_toggleShowHideBar(''+POS+'');
			});
			$('#zsb-bar-control-fixed-'+POS+'').on('click',function() {
				zsb_toggleShowHideBar(''+POS+'');
			});
			$('#zsb-bar-control-fixed-'+POS+'').hover(function() {
				$(this).stop().animate({'opacity':1});
			},function() {
				$(this).stop().animate({'opacity':0.5});
			});
		}
		zsbSetEvBarCtrl('top');
		zsbSetEvBarCtrl('bottom');
	}
	function zsb_toggleShowHideBar(POS,SHOWHIDE) {
		var SHOWHIDE = SHOWHIDE || '',
			BARSEL = '#zsb-bodyspacer-'+POS+', #zsb-bar-base-'+POS+', #zsb-bar-'+POS+'',
			CTRLFIXSEL = '#zsb-bar-control-fixed-'+POS+'';
		if (SHOWHIDE === 'hide') {
			$(BARSEL).animate({'height':'hide'});
			$(CTRLFIXSEL).show(0);
		} else if (SHOWHIDE === 'show') {
			$(BARSEL).animate({'height':'show'});
			$(CTRLFIXSEL).hide(0);
		} else {
			$(BARSEL).animate({'height':'toggle'});
			$(CTRLFIXSEL).toggle(0);
		}
	}
	function zsb_checkDefaultHiddenBar() {
		if (ZSB_TOP_HIDDEN) {
			setTimeout(function(){
				zsb_toggleShowHideBar('top','hide');
			}, 3000);
		}
		if (ZSB_BOTTOM_HIDDEN) {
			setTimeout(function(){
				zsb_toggleShowHideBar('bottom','hide');
			}, 3000);
		}
	}

	/* WINDOWRESIZE */
	function zsb_setEventWindowResize() {
		$(window).resize(function() {
			zsb_setBodySpacerBarBaseSize();
		});
	}

	/* WINDOWOPEN */
	function zsb_setEventOpenWindow() {
		var TARGETVAL, HREFVAL, ARGVAL, ARGS, URL, NAME, OPT, CONTENT, TITLE;
		function zsbDelEdgeQuote(STRING) {
			var REXPSQA = new RegExp('^'+S+''), REXPSQB = new RegExp(''+S+'$'),
				REXPDQA = new RegExp('^'+Q+''), REXPDQB = new RegExp(''+Q+'$');
			return STRING.replace(REXPSQA,'').replace(REXPSQB,'').replace(REXPDQA,'').replace(REXPDQB,'');
		}
		$('*[data-zsb-win-open]').on('click',function(e){
			e.preventDefault();
			TARGETVAL = $(this).attr('target') || '';
			HREFVAL = $(this).attr('href') || '';
			ARGVAL = $(this).data('zsbWinOpen') || '';
			ARGS = ARGVAL.split('|') || [];
			if (ARGS.length >= 1) {
				URL = ARGS[0] || HREFVAL || '';
				NAME = ARGS[1] || TARGETVAL || '';
				OPT = ARGS[2] || '';
				CONTENT = ARGS[3] || '';
				TITLE = ARGS[4] || '';
				if (URL) { URL = zsbDelEdgeQuote(URL); if (URL === 'this.href') { URL = HREFVAL; } else if (URL === 'about:blank') { URL = ''; } }
				if (NAME) { NAME = zsbDelEdgeQuote(NAME); if (NAME === '_blank') { NAME = ''; } }
				if (OPT) { OPT = zsbDelEdgeQuote(OPT); }
				if (CONTENT) { CONTENT = zsbDelEdgeQuote(CONTENT); CONTENT = unescape(CONTENT); URL = ''; }
				if (TITLE) { TITLE = zsbDelEdgeQuote(TITLE); TITLE = unescape(TITLE); }
			} else {
				URL = ''; NAME = ''; OPT = ''; CONTENT = ''; TITLE = '';
			}
			zsb_openWindow(URL,NAME,OPT,CONTENT,TITLE);
			return false;
		});
	}




	/* EXECUTE */

	function zsb_render(ZSBAO) {

		var ZSBAO = ZSBAO || {};

		zsb_parseStyleOption(ZSBAO);
		if (zsb_checkId('zsb-style-option')) { $('#zsb-style-option').remove(); }
		zsb_setupCSSText(ZSB_OPTION_CSS_TEXT,'zsb-style-option');

	}


	function zsb_start(ZSBAO) {

		if (ZSB_APP_STARTED) { return; }

		var ZSBAO = ZSBAO || {};

		zsb_parseAppOption(ZSBAO);

		zsb_checkBrowser();

		if (! zsb_checkId('zsb-style')) { return; }

		zsb_setupCSSText(ZSB_OPTION_CSS_TEXT,'zsb-style-option');
		zsb_setupFollowbox();
		zsb_setupScrollbox();
		$('#zsb-followbox,#zsb-scrollbox').addClass('zsb-transparent');

		function zsbRunOnDOMReady() {
			zsb_setupContentboxMenuboxMenu();
			zsb_setupBarControl();
			zsb_showWrapper();
		}
		function zsbRunLatelyAfterDOMReady() {
			$('#zsb-followbox,#zsb-scrollbox').removeClass('zsb-transparent');
			zsb_setupContentbox();
			zsb_setContentboxSize(true);
			zsb_setupBodySpacerBarBaseBarFiller();
			//zsb_setBodySpacerBarBaseSize(true);
			$('#zsb-bar-top').addClass('zsb-bar-top-temp');
			$('#zsb-bar-bottom').addClass('zsb-bar-bottom-temp');
			zsb_setLinkTitle();
			zsb_setEventBarControl();
			zsb_setEventScroll();
			zsb_setEventMenuItem();
			zsb_setEventWindowResize();
			zsb_setEventOpenWindow();
			zsb_showTopBottomBar();
		}
		function zsbRunWhenPageLoaded() {
			$('#zsb-bar-top').removeClass('zsb-bar-top-temp');
			$('#zsb-bar-bottom').removeClass('zsb-bar-bottom-temp');
			zsb_setContentboxSize();
			zsb_setBodySpacerBarBaseSize();
			zsb_checkDefaultHiddenBar();
			zsb_showUpgradebox();
		}

		if (ZSB_WAIT_PAGE) {
			$(document).ready(function() {
				zsbRunOnDOMReady();
			});
			$(window).load(function() {
				zsbRunLatelyAfterDOMReady();
				zsbRunWhenPageLoaded();
			});
		} else {
			$(document).ready(function() {
				zsbRunOnDOMReady();
				zsbRunLatelyAfterDOMReady();
			});
			$(window).load(function() {
				zsbRunWhenPageLoaded();
			});
		}

		ZSB_APP_STARTED = true;

	}


	function zsb_init() {

		if (ZSB_APP_INITIALIZED) { return; }

		zsb_setClassNameInitStyle();

		try { var ZSBAO = ZSB_APP_OPTIONS; } catch(e) { var ZSBAO = {}; }
		zsb_parsePathOption(ZSBAO);
		if (! zsb_checkId('zsb-style-fa')) { zsb_setupCSSLink('//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css','zsb-style-fa'); }
		if (! zsb_checkId('zsb-style-ubuntu')) { zsb_setupCSSLink('//fonts.googleapis.com/css?family=Ubuntu','zsb-style-ubuntu'); }
		if (! zsb_checkId('zsb-style')) { zsb_setupCSSLink(ZSB_APP_CSS_FILE,'zsb-style'); }

		ZSB_APP_INITIALIZED = true;

	}




	/* PUBLIC */

	return {

		getId: zsb_getId,
		checkId: zsb_checkId,

		setupCSSLink: zsb_setupCSSLink,
		setupCSSText: zsb_setupCSSText,

		openWindow: zsb_openWindow,

		showUpgradebox: zsb_showUpgradebox,
		hideUpgradebox: zsb_hideUpgradebox,
		toggleUpgradebox: zsb_toggleUpgradebox,

		render: zsb_render,
		start: zsb_start,
		init: zsb_init,

		ZZ:true
	};




})(zsb$);







/* *****************************************************************
 * EXECUTION *
 * *****************************************************************/

var zSB = zSB || zStickyBar;
var zsb = zsb || zStickyBar;

(function () {

	var ELS = [];
	for (var i = 0, EL; EL = document.getElementsByTagName('*')[i]; i++) {
		if (EL.id === 'zsb-wrapper') {
			ELS.push(EL);
		}
	}
	if (ELS.length > 1) {
		for (var n = 1, WR; WR = ELS[n]; n++) {
			zsb$(WR).remove();
		}
	}

	if (zStickyBar.executed) { return; }

	zStickyBar.init();

	var cID = zStickyBar.checkId;
	var ZSBAO = {};
	if (
		cID('zsb-wrapper') &&
		cID('zsb-bar-top') &&
		cID('zsb-bar-bottom') &&
		cID('zsb-contentbox-top-left') &&
		cID('zsb-contentbox-top-center') &&
		cID('zsb-contentbox-top-right') &&
		cID('zsb-contentbox-bottom-left') &&
		cID('zsb-contentbox-bottom-center') &&
		cID('zsb-contentbox-bottom-right') &&
		cID('zsb-bootnode')
		) {
		try { ZSBAO = ZSB_APP_OPTIONS; } catch(e) { }
		zStickyBar.start(ZSBAO);
		zStickyBar.executed = true;
	}

})();

